import{$ as o}from"./jquery-DduPepyT.js";const b=(t,e)=>{const r=o(t)[0];r&&new IntersectionObserver(([i],a)=>i.isIntersecting&&(e(),a.disconnect()),{rootMargin:"50px"}).observe(r)},v=(()=>{const t=new Set,e=y("wiSmart"),r=(a,s)=>{const c=`${a}:${s}`;if(!t.has(c))if(t.add(c),a==="css"){const n=s;!o(`link[href="${n}"]`).length&&o("<link>",{rel:"stylesheet",href:n}).appendTo("head")}else typeof s=="function"&&s().catch?.(n=>console.error("wiSmart js error:",n))},i=a=>{o.each(a,(s,c)=>o.each(o.isArray(c)?c:[c],(n,l)=>r(s,l))),h("wiSmart",1)};return a=>e?i(a):o(document).one("touchstart scroll click mousemove",()=>i(a))})(),$=(t,e=!0,r="")=>{const i=o(t);if(e){const a=r||i.text().trim();i.data("txt",a).prop("disabled",!0).html(`${a} <i class="fas fa-spinner fa-spin"></i>`)}else i.prop("disabled",!1).text(i.data("txt")||r||"Continuar")};function k(t,e="error",r=3e3){const i={success:"fa-check-circle",error:"fa-times-circle",warning:"fa-exclamation-triangle",info:"fa-info-circle"}[e];o("#notificationsContainer").length||o("body").append('<div id="notificationsContainer" style="position:fixed;top:1rem;right:1rem;z-index:9999;display:flex;flex-direction:column;gap:.5rem;"></div>');const a=o(`<div class="notification notif-${e}" style="background:var(--F);border-left:4px solid var(--${e});box-shadow:0 4px 12px rgba(0,0,0,.1);border-radius:8px;padding:1rem;display:flex;align-items:center;gap:.5rem;opacity:0;transform:translateX(20px);transition:all .3s ease;"><i class="fas ${i}" style="color:var(--${e});"></i><span style="flex:1;color:var(--tx);">${t}</span><button style="background:none;border:none;font-size:1.2rem;cursor:pointer;color:var(--tx);">&times;</button></div>`);o("#notificationsContainer").append(a),requestAnimationFrame(()=>a.css({opacity:1,transform:"translateX(0)"}));const s=()=>{a.css({opacity:0,transform:"translateX(20px)"}),setTimeout(()=>a.remove(),300)};a.find("button").on("click",s),setTimeout(s,r)}function M(t,e="success"){o(".alert-box").remove();const r={success:"fa-circle-check",error:"fa-circle-exclamation",warning:"fa-exclamation-triangle",info:"fa-info-circle"}[e],i=o(`<div class="alert-box" style="position:fixed;top:20px;left:50%;transform:translateX(-50%);padding:15px 20px;border-radius:8px;background:var(--${e}-bg,var(--F));color:var(--${e});border-left:4px solid var(--${e});box-shadow:0 4px 12px rgba(0,0,0,.1);z-index:1000;display:flex;align-items:center;gap:10px;min-width:300px;max-width:90%;"><i class="fas ${r}" style="color:var(--${e});"></i><span>${t}</span></div>`).appendTo("body").hide().fadeIn(300);setTimeout(()=>i.fadeOut(300,()=>i.remove()),3e3)}function h(t,e,r=24){try{return!t||typeof t!="string"?!1:(localStorage.setItem(t,JSON.stringify({value:e,expiry:Date.now()+r*36e5})),t==="wiSmile"&&window.dispatchEvent(new CustomEvent("wiFresh",{detail:e})),!0)}catch(i){return console.error("esv:",i),!1}}function y(t){try{if(!t||typeof t!="string")return null;const e=localStorage.getItem(t);if(!e)return null;const r=JSON.parse(e);return!r||Date.now()>r.expiry?(localStorage.removeItem(t),null):r.value}catch(e){return console.error("egt:",e),localStorage.removeItem(t),null}}function T(...t){t.flat().flatMap(e=>typeof e=="string"?e.split(/[,\s]+/).filter(Boolean):e).forEach(e=>localStorage.removeItem(e))}function S(t,e,r="top",i=1800){const s={success:"--success",error:"--error",warning:"--warning",info:"--info"}[r]||"--mco";o("#wiTip-css").length||o("head").append('<style id="wiTip-css">.wiTip{position:fixed;color:var(--F);z-index:99999;padding:8px 12px;border-radius:4px;font-size:.85rem;max-width:250px;box-shadow:0 2px 8px rgba(0,0,0,.2);opacity:0;transition:opacity .2s}.wiTip.show{opacity:1}</style>');const c=o(t);if(!c.length)return;o(".wiTip").remove();const n=o(`<div class="wiTip" style="background:var(${s})"><span>${e}</span><div style="position:absolute;top:100%;left:50%;margin-left:-6px;border:6px solid transparent;border-top-color:var(${s})"></div></div>`).appendTo("body"),{left:l,top:m,width:u}=c[0].getBoundingClientRect(),f=n.outerWidth(),x=n.outerHeight();let d=l+u/2-f/2,g=m-x-8;return d=Math.max(8,Math.min(d,innerWidth-f-8)),n.css({left:d,top:g}),setTimeout(()=>{n.addClass("show"),i>0&&setTimeout(()=>n.removeClass("show").delay(200).queue(()=>n.remove()),i)},10),c}const C=t=>{const e=o(`#${t}`);if(!e.length)return console.warn(`Modal #${t} no existe`);e.addClass("active"),o("body").addClass("modal-open"),setTimeout(()=>e.find("input,select,textarea,button").filter(":visible:first").trigger("focus"),20)},z=t=>{o(`#${t}`).removeClass("active"),o(".wiModal.active").length||o("body").removeClass("modal-open")},p=()=>{o(".wiModal").removeClass("active"),o("body").removeClass("modal-open")};o(".wiModalCss").length?o(".wiModalCss").text(".wiModal{display:none;position:fixed;inset:0;background:rgba(0,0,0,.45);z-index:10000;justify-content:center;align-items:center;backdrop-filter:saturate(120%) blur(2px)}.wiModal.active{display:flex}@keyframes mf{from{opacity:0}to{opacity:1}}.wiModal{animation:mf .25s ease}body.modal-open{overflow:hidden}.modalBody{position:relative;border-radius:1vh;box-shadow:var(--bsh);width:92%;max-width:600px;max-height:90vh;overflow:auto;animation:mp .22s ease;z-index:10001}@keyframes mp{from{transform:translateY(10px) scale(.98);opacity:.6}to{transform:translateY(0) scale(1);opacity:1}}.modalX{z-index:10002;background:0 0;border:0;color:var(--mco);font-size:1.4rem;cursor:pointer;transition:transform .15s,opacity .15s;text-shadow:0 1px 2px rgba(0,0,0,.15);position:absolute;top:12px;right:12px}.modalX:hover{transform:scale(1.08);opacity:.95}"):o("head").append('<style class="wiModalCss">.wiModal{display:none;position:fixed;inset:0;background:rgba(0,0,0,.45);z-index:10000;justify-content:center;align-items:center;backdrop-filter:saturate(120%) blur(2px)}.wiModal.active{display:flex}@keyframes mf{from{opacity:0}to{opacity:1}}.wiModal{animation:mf .25s ease}body.modal-open{overflow:hidden}.modalBody{position:relative;border-radius:1vh;box-shadow:var(--bsh);width:92%;max-width:600px;max-height:90vh;overflow:auto;animation:mp .22s ease;z-index:10001}@keyframes mp{from{transform:translateY(10px) scale(.98);opacity:.6}to{transform:translateY(0) scale(1);opacity:1}}.modalX{z-index:10002;background:0 0;border:0;color:var(--mco);font-size:1.4rem;cursor:pointer;transition:transform .15s,opacity .15s;text-shadow:0 1px 2px rgba(0,0,0,.15);position:absolute;top:12px;right:12px}.modalX:hover{transform:scale(1.08);opacity:.95}</style>'),o(document).on("click",".modalX",p).on("click",".wiModal.active",function(t){t.target===this&&p()}).on("keydown",t=>{t.key==="Escape"&&o(".wiModal.active").length&&p()});const D=t=>({save:e=>e?(e.length===10&&(e=`${e}T${new Date().toTimeString().split(" ")[0]}`),t.fromDate(new Date(e))):null,get:(e,r)=>{const i=e?.seconds??(e?.type?.includes?.("timestamp")?e.seconds:null),a=e?.toDate?.()||i&&new Date(i*1e3)||typeof e=="number"&&new Date(e*1e3);if(!a)return"";const s=new Date(a-a.getTimezoneOffset()*6e4);return r==="full"?s.toISOString().slice(0,16):r==="local"?a.toLocaleDateString():s.toISOString().split("T")[0]}});export{M,k as N,b as a,C as b,S as c,$ as d,z as e,D as f,y as g,p as h,T as r,h as s,v as w};
